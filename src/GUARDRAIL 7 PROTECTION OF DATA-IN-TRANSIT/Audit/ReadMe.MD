See Module 5. Module 7 is implemented through the same script.